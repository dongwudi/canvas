<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body onload="draw();">
<canvas id="canvas" width="300" height="300"></canvas>
<script>
    function draw() {
        var canvas = document.getElementById("canvas");
        if (canvas.getContext) {
            var ctx = canvas.getContext("2d");
           // 1. 获得需要绘制的图片
           //          HTMLImageElement  这些图片是由Image()函数构造出来的，或者任何的<img>元素
           //          HTMLVideoElement  用一个HTML的 <video>元素作为你的图片源，可以从视频中抓取当前帧作为一个图像
           //          HTMLCanvasElement 可以使用另一个 <canvas> 元素作为你的图片源。
           //         ImageBitmap  这是一个高性能的位图，可以低延迟地绘制，它可以从上述的所有源以及其它几种源中生成。
            
                // 1-1 使用相同页面内的图片
                //     document.images集合
                //     document.getElementsByTagName()方法
                //     如果你知道你想使用的指定图片的ID，你可以用document.getElementById()获得这个图片
                // 1-2 使用其他域名下的图片
                    // 在 HTMLImageElement上使用crossOrigin属性，你可以请求加载其它域名上的图片。
                    // 如果图片的服务器允许跨域访问这个图片，那么你可以使用这个图片而不污染canvas，否则，使用这个图片将会污染canvas
                // 1-3 使用其他canvas元素
                    // 和引用页面内的图片类似地，用 document.getElementsByTagName 或 document.getElementById 方法来获取其它 canvas 元素。
                    // 但你引入的应该是已经准备好的 canvas

                        // 1-1.1 由零创建图像

                            //  1-1.2 创建一个新的 HTMLImageElement 对象
                            var img = new Image();   // 创建一个<img>元素
                            img.onload = function (ev) {
                                // 执行drawImage语句
                                // ctx.drawImage(img,0,0);
                                ctx.drawImage(img,0,0,300,300);

                                ctx.strokeStyle = 'rgb(240,20,20)';
                                ctx.beginPath();
                                ctx.moveTo(30,156);
                                ctx.lineTo(70,146);
                                ctx.lineTo(103,96);
                                ctx.lineTo(170,125);
                                ctx.lineTo(250,35);
                                ctx.stroke();
                            };

                            img.src = './images/timg.jpg'; // 设置图片源地址
                        // 通过 data: url 方式嵌入图像
                        // img.src = 'data:image/gif;base64,R0lGODlhCwALAIAAAAAA3pn/ZiH5BAEAAAEALAAAAAALAAsAAAIUhA+hkcuO4lmNVindo7qyrIXiGBYAOw==';

                        //  1-3.1 使用视频帧（即便视频是不可见的）  如果你有一个ID为“myvideo”的<video> 元素，你可以这样做
                        //     function getMyVideo() {
                        //         var canvas = document.getElementById('canvas');
                        //         if (canvas.getContext) {
                        //             var ctx = canvas.getContext('2d');
                        //
                        //             return document.getElementById('myvideo');
                        //         }
                        //     }

            // 2. 绘制图片

            // drawImage(image, x, y)   image 是 image 或者 canvas 对象，x 和 y 是其在目标 canvas 里的起始坐标。

            // drawImage(image, x, y, width, height)   这个方法多了2个参数：width 和 height，这两个参数用来控制 当向canvas画入时应该缩放的大小

            //  drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)
            // 第一个参数和其它的是相同的，都是一个图像或者另一个 canvas 的引用,  有8个新参数，用于控制做切片显示的
            // 前4个是定义图像源的切片位置和大小，后4个则是定义切片的目标显示位置和大小。



        }
    }
</script>
</body>
</html>